const {
  GoogleGenerativeAI,
  HarmCategory,
  HarmBlockThreshold,
} = require("@google/generative-ai");

const EXPO_PUBLIC_GOOGLE_GEMINI_API_KEY =
  "AIzaSyCqVrgy2WtlV4sNiw2mJhLqN_GARMotVOM";
const genAI = new GoogleGenerativeAI(EXPO_PUBLIC_GOOGLE_GEMINI_API_KEY);

const model = genAI.getGenerativeModel({
  model: "gemini-1.5-flash",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 64,
  maxOutputTokens: 8192,
  responseMimeType: "text/plain",
};

export const chatSession = model.startChat({
  generationConfig,
  history: [],
  // history: [
  //   {
  //     role: "user",
  //     parts: [
  //       {
  //         text: "Generate Travel Plan for Location : Brazil , for 4 Days and 3 Night for Family with a\nModerate budget with a Flight Details, Flight Price with booking url, Hotels options list with HotelName, Hotel address, Price, Hotel image url , geo coordinates , rating, descriptions and places to visit nearby with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing,\nTime to travel each of the location for 4 days and 3 night with each day plan with best time to visit ,Return output Validated JSON",
  //       },
  //     ],
  //   },
  //   {
  //     role: "model",
  //     parts: [
  //       {
  //         text: '```json\n{\n  "flight": {\n    "details": {\n      "airline": "LATAM Airlines",\n      "flightNumber": "LA4567",\n      "departureAirport": "Miami International Airport (MIA)",\n      "arrivalAirport": "Sao Paulo–Guarulhos International Airport (GRU)",\n      "departureDate": "2024-03-15",\n      "departureTime": "10:00 AM",\n      "arrivalDate": "2024-03-15",\n      "arrivalTime": "06:00 PM",\n      "duration": "11 hours"\n    },\n    "price": "$600",\n    "bookingUrl": "https://www.latam.com/en_us/"\n  },\n  "hotel": [\n    {\n      "name": "Hotel Unique",\n      "address": "Av. Brigadeiro Luis Antônio, 4700 - Jardim Paulista, São Paulo - SP, 01401-001, Brazil",\n      "price": "$200/night",\n      "imageUrl": "https://www.uniquehotel.com.br/img/hotel/hotel-unique-fachada.jpg",\n      "geoCoordinates": "-23.5631, -46.6613",\n      "rating": 4.5,\n      "description": "A stylish hotel with an iconic, wave-like design, offering chic rooms, a rooftop pool and an acclaimed restaurant.",\n      "placesNearby": [\n        {\n          "name": "Parque Ibirapuera",\n          "details": "A large urban park with museums, art galleries, a lake, gardens and a Japanese garden.",\n          "imageUrl": "https://www.visitbrasil.com/wp-content/uploads/2017/07/parque-ibirapuera.jpg",\n          "geoCoordinates": "-23.5833, -46.6439",\n          "ticketPricing": "Free entry"\n        },\n        {\n          "name": "Museum of Art of São Paulo Assis Chateaubriand (MASP)",\n          "details": "A renowned art museum with a collection spanning centuries, housed in a unique building.",\n          "imageUrl": "https://www.masp.org.br/sites/default/files/styles/foto_principal/public/2018-12/masp-fachada-noite.jpg",\n          "geoCoordinates": "-23.5634, -46.6559",\n          "ticketPricing": "$10"\n        }\n      ]\n    },\n    {\n      "name": "Hotel Tivoli Mofarrej São Paulo",\n      "address": "Av. Brigadeiro Faria Lima, 3427 - Itaim Bibi, São Paulo - SP, 04538-132, Brazil",\n      "price": "$150/night",\n      "imageUrl": "https://www.tivolihotels.com/media/images/hotels/sao-paulo/hotel-tivoli-mofarrej-sao-paulo-exterior.jpg",\n      "geoCoordinates": "-23.5797, -46.6869",\n      "rating": 4,\n      "description": "A sophisticated hotel with elegant rooms, a rooftop pool and a spa, located in the Itaim Bibi business district.",\n      "placesNearby": [\n        {\n          "name": "Shopping Iguatemi",\n          "details": "A high-end shopping mall with a variety of luxury boutiques, restaurants, and a cinema.",\n          "imageUrl": "https://www.shoppingiguatemi.com.br/assets/img/iguatemi-sao-paulo-fachada-shopping-01.jpg",\n          "geoCoordinates": "-23.5775, -46.6891",\n          "ticketPricing": "Free entry"\n        },\n        {\n          "name": "Itaim Bibi",\n          "details": "A vibrant business and financial district with a lively nightlife and a wide range of restaurants.",\n          "imageUrl": "https://www.expedia.com.br/destination/Itaim-Bibi-Sao-Paulo.d6042104.Destination-Travel-Guide",\n          "geoCoordinates": "-23.5800, -46.6860",\n          "ticketPricing": "N/A"\n        }\n      ]\n    }\n  ],\n  "travelPlan": [\n    {\n      "day": 1,\n      "time": "Morning (9:00 AM - 12:00 PM)",\n      "location": "Parque Ibirapuera",\n      "details": "Enjoy a leisurely walk or bike ride through this vast green space, visit the Japanese Garden, or explore the museum of modern art.",\n      "imageUrl": "https://www.visitbrasil.com/wp-content/uploads/2017/07/parque-ibirapuera.jpg",\n      "geoCoordinates": "-23.5833, -46.6439",\n      "ticketPricing": "Free entry"\n    },\n    {\n      "day": 1,\n      "time": "Afternoon (1:00 PM - 4:00 PM)",\n      "location": "Museum of Art of São Paulo Assis Chateaubriand (MASP)",\n      "details": "Admire the impressive collection of art, housed in a unique building with a suspended walkway.",\n      "imageUrl": "https://www.masp.org.br/sites/default/files/styles/foto_principal/public/2018-12/masp-fachada-noite.jpg",\n      "geoCoordinates": "-23.5634, -46.6559",\n      "ticketPricing": "$10"\n    },\n    {\n      "day": 1,\n      "time": "Evening (6:00 PM - 9:00 PM)",\n      "location": "Dinner at a restaurant in Vila Madalena",\n      "details": "Experience the vibrant nightlife and culinary scene of this trendy neighborhood.",\n      "imageUrl": "https://www.travelandleisure.com/thmb/2n9u-T7b-cZ-07e-H-70pU682V8W-W-w=/1500x1000/filters:no_upscale():max_bytes(150000):strip_icc()/vila-madalena-street-art-sao-paulo-brasil-5e0e5b5446e0fb0001336b60.jpg",\n      "geoCoordinates": "-23.5593, -46.7050",\n      "ticketPricing": "Varies depending on the restaurant"\n    },\n    {\n      "day": 2,\n      "time": "Morning (9:00 AM - 12:00 PM)",\n      "location": "Shopping Iguatemi",\n      "details": "Browse the luxury boutiques, enjoy a meal at one of the many restaurants, or catch a movie at the cinema.",\n      "imageUrl": "https://www.shoppingiguatemi.com.br/assets/img/iguatemi-sao-paulo-fachada-shopping-01.jpg",\n      "geoCoordinates": "-23.5775, -46.6891",\n      "ticketPricing": "Free entry"\n    },\n    {\n      "day": 2,\n      "time": "Afternoon (1:00 PM - 4:00 PM)",\n      "location": "Itaim Bibi",\n      "details": "Explore the business district, visit the vibrant bars and restaurants, or enjoy a coffee break at a chic café.",\n      "imageUrl": "https://www.expedia.com.br/destination/Itaim-Bibi-Sao-Paulo.d6042104.Destination-Travel-Guide",\n      "geoCoordinates": "-23.5800, -46.6860",\n      "ticketPricing": "N/A"\n    },\n    {\n      "day": 2,\n      "time": "Evening (6:00 PM - 9:00 PM)",\n      "location": "Dinner at a restaurant in Jardins",\n      "details": "Indulge in fine dining at one of the many upscale restaurants in this chic neighborhood.",\n      "imageUrl": "https://www.tripadvisor.com/Tourism-g303634-Jardins_Sao_Paulo_State-Vacations.html",\n      "geoCoordinates": "-23.5680, -46.6670",\n      "ticketPricing": "Varies depending on the restaurant"\n    },\n    {\n      "day": 3,\n      "time": "Morning (9:00 AM - 12:00 PM)",\n      "location": "Pinacoteca de São Paulo",\n      "details": "Explore the collection of Brazilian art from the 19th and 20th centuries, housed in a historic building.",\n      "imageUrl": "https://www.pinacoteca.org.br/images/pinacoteca-sao-paulo-fachada-2.jpg",\n      "geoCoordinates": "-23.5577, -46.6387",\n      "ticketPricing": "$10"\n    },\n    {\n      "day": 3,\n      "time": "Afternoon (1:00 PM - 4:00 PM)",\n      "location": "Mercado Municipal",\n      "details": "Experience the vibrant atmosphere of this historic market, and sample the local delicacies.",\n      "imageUrl": "https://www.visitbrasil.com/wp-content/uploads/2017/03/mercado-municipal-sao-paulo.jpg",\n      "geoCoordinates": "-23.5562, -46.6308",\n      "ticketPricing": "Free entry"\n    },\n    {\n      "day": 3,\n      "time": "Evening (6:00 PM - 9:00 PM)",\n      "location": "Dinner and a show in Liberdade",\n      "details": "Experience the cultural richness of this Japanese district with a traditional dinner and a cultural performance.",\n      "imageUrl": "https://www.tripadvisor.com/Tourism-g303634-Liberdade_Sao_Paulo_State-Vacations.html",\n      "geoCoordinates": "-23.5522, -46.6267",\n      "ticketPricing": "Varies depending on the restaurant and show"\n    }\n  ]\n}\n```\n\n**Notes:**\n\n* This travel plan is for a moderate budget and can be adjusted based on your preferences. \n* Hotel prices are estimates and may vary depending on the season and availability. \n* Ticket pricing for attractions may also vary, so it\'s recommended to check the official websites for the most up-to-date information. \n* This plan is just a suggestion, and you can customize it to fit your family\'s interests and time constraints.\n* You can also consider adding day trips to nearby cities like Rio de Janeiro or Salvador.\n* Remember to factor in travel time between locations.\n* Consider purchasing a travel insurance policy to protect yourself against unforeseen circumstances.\n*  For flight booking please check the booking url mentioned above.\n*  Flight prices are estimates and can change based on the booking date.\n*  This plan is for a family with a moderate budget and can be adjusted based on your preferences.',
  //       },
  //     ],
  //   },
  // ],
});
